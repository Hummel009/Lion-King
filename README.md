Декомпилированный, исправленный и прошедший рефакторинг код мода "Lion King" для Minecraft 1.6.4. Перенесён с Forge на Voldeloom и пригоден к разработке на момент 2023 года.

Помимо меня, над кодом работали:

* © Mevans a.k.a @TheChildWalrus, 2013 - разработчик оригинального мода.

Приведённая ниже документация будет полезна как разработчикам, так и мне самому из будущего. Сведения, гайды, подводные камни, советы и всё такое. 

## Общая информация

* Этот репозиторий - проект Gradle, который должен быть открыт через IntelliJ IDEA или импортирован в Eclipse IDE.
* Используемый синтаксис Java - 6.
* Используемая версия Gradle - 7.6.
* Используемая версия Voldeloom – 2.4.
* Используемая версия JDK - Eclipse Temurin 11.0.20.

Обязательно проконтролируйте, чтобы ваш синтаксис Java и ваша JDK были такими, как сказано выше. Ваша IDE и переменные среды вашей ОС должны быть правильно сконфигурированы, иначе ничего не будет работать.

* JDK, сконфигурированный в IDE, отвечает за то, какие синтаксические конструкции есть в языке и какой на выходе получится байткод (который должен быть совместим с ожиданиями Forge).
* Синтаксис, сконфигурированный в IDE, отвечает за то, какие конструкции языка вы можете использовать (чтобы случайно не получить на выходе байткод, который будет нечитаемым и крашнет Forge). В некоторых случаях вы можете выбрать более новую JDK и более старый синтаксис, чтобы ограничить себя.
* JDK, сконфигурированный в переменных средах ОС, отвечает за то, какой джавой будет запущена сборка мода и загрузка среды.
* JDK в Eclipse называется `JRE/JDK`, в IntelliJ IDEA - `SDK`. Синтаксис в Eclipse называется `Compiler Compliance Level`, в IntelliJ IDEA - `Language Level`.

### Где это настраивать?

* Переменные среды Windows:
  * Первый способ: `ЛКМ по "Мой компьютер" -> Свойства -> Дополнительные параметры системы -> Переменные среды`.
  * Второй способ: `Параметры -> Система -> О системе -> Дополнительные параметры системы -> Переменные среды`.
  * Когда вы всё-таки добрались до переменных сред, создайте там две переменные: `JAVA_HOME` и `Path`. Если они уже существуют, то двойным нажатием ЛКМ откройте их и посмотрите содержимое.
    * В JAVA_HOME должна быть только одна строка, содержащая путь к вашей JDK. У меня это `C:\Users\Hummel009\.jdks\temurin-1.8.0_392`.
    * В Path, помимо других строк, должна быть как минимум одна строка, содержащая путь вашей JDK\bin. У меня это `C:\Users\Hummel009\.jdks\temurin-1.8.0_392\bin`.
* Eclipse IDE:
  * Сверху справа находится лупа, через которую можно попасть куда угодно.
    * Для настройки синтаксиса введите в поиск `Compliance` и откройте предложенный `Compiler`. Там сверху выставляется число.
    * Для настройки JDK введите в поиск `Installed JREs` и откройте предложенный  `Installed JREs | Open the preferences dialog`. Там вы можете нажать на текущую JRE и удалить её (`Remove`), чтобы потом добавить (`Add`) новую `Standard VM` и указать место на диске, где лежит ваша JDK, после чего подтвердить и выбрать её.
  * Альтернативный способ добраться до настроек синтаксиса и JDK - это сверху нажать `Window -> Preferences -> Java` и там выбрать либо `Compiler`, либо `Installed JREs`.
  * Если у вас в среде много проектов, вы можете настроить каждый отдельно. Для этого нажмите слева на проект и сверху пройдите по пути `Project -> Properties` (а не `Window -> Preferences`). Там есть `Java Build Path` и `Java Compiler`.
    * `Java Compiler` - просто окно, где сверху выставляется число.
    * `Java Build Path` - окно с вкладками, где вас интересует вкладка `Libraries`. Там нужно нажать по центру на `Module path`, а затем нажать справа `Add Library -> JRE System Library`. Там вы можете указать одну из добавленных ранее в `Installed JREs`.
* IntelliJ IDEA:
  * `Ctrl + Alt + Shift + S` приведёт вас к структуре проекта, где вы настраиваете SDK и Language Level.
  * `Ctrl + Alt + S`, а затем `Build... -> Compiler -> Java Compiler` приведёт вас к настройкам Language Level в среде разработки.
  * `Ctrl + Alt + S`, а затем `Build... -> Build Tools -> Gradle -> Gradle JVM` приведёт вас к настройкам переменных сред в среде разработки. Это на случай, если для запуска Gradle нужна JDK, отличающаяся от той, что указана в переменных средах ОС.
  * Альтернативный способ добраться до структуры проекта или настроек среды - это нажать на шестерёнку сверху справа и выбрать там `Project Structure` или `Settings`.
  * Ещё один альтернативный способ найти настройки среды - нажать `File -> Settings`.

## Гайд по установке и работе

Собственно, для начала нужно скачать и разархивировать куда-то папку с исходниками. Будем называть это **папкой проекта**. В ней лежат папки (gradle, src) и различные файлы.

Версия 1.6.4 вышла более десяти лет назад, и с тех пор все инструменты для разработки уже устарели и недоступны для скачивания. Однако разработку на них вести всё ещё можно, если использовать Voldeloom - аналог ForgeGradle, позволяющий вести разработку на устаревших версиях.

* Первым делом, необходимо открыть проект Gradle в среде.
  * В случае Eclipse IDE импортируйте папку проекта: `File -> Import -> Gradle -> Existing Gradle Project -> Next -> [Выбираете папку] -> Finish`.
  * В случае IntelliJ IDEA откройте папку проекта: `File -> Open -> [Выбираете папку]`.
* Чтобы запустить мод из среды, выполните Gradle Task `runClient`.
  * В случае Eclipse IDE откройте поиск (лупа сверху справа) и введите там `Gradle`, после чего нажмите на предложенный ответ `Gradle Tasks`. Снизу появится панель, там нужно выбрать `Volde -> runClient`.
  * В случае IntelliJ IDEA нажмите на значок слона сверху справа. Справа появится панель, там нужно выбрать `Volde -> runClient`.
  * Есть и другие способы. Например, открыть консоль Windows в папке проекта и ввести там `gradlew runClient`.
  * Если есть проблемы с открытием консоли, можно создать файл с расширением .bat в папке проекта, открыть его при помощи блокнота и написать внутри `gradlew runClient`, после чего запускать процесс двойным нажатием ЛКМ по файлу.
* После первого запуска игра может открыться без мода, это норма. Во второй раз всё будет нормально.
* Компилировать мод отдельно не нужно - Voldeloom сам компилирует его перед каждым `runClient`.
* Таким образом, после каждого запуска игры из среды новейшая версия вашего мода лежит по пути `папка_проекта/build/libs`. Важно: там лежит два файла, но вас интересует тот, который без приписки `-dev`.